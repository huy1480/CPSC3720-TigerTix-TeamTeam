{"ast":null,"code":"import _objectSpread from\"/home/erchnux/CPSC3720/CPSC3720-TigerTix-TeamTeam/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import'./App.css';/**\n * TigerTix Main Application Component\n * Displays campus events with accessible ticket purchasing interface\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[events,setEvents]=useState([]);const[message,setMessage]=useState('');const[loading,setLoading]=useState(true);// Fetch events dynamically from the client microservice\nuseEffect(()=>{setLoading(true);fetch('http://localhost:6001/api/events').then(res=>res.json()).then(data=>{setEvents(data);setLoading(false);}).catch(err=>{console.error('Error fetching events:',err);setMessage('Failed to load events. Please try again later.');setLoading(false);});},[]);/**\n   * Handle ticket purchase\n   * @param {number} eventId - ID of the event\n   * @param {string} eventName - Name of the event for confirmation message\n   */const buyTicket=async(eventId,eventName)=>{try{const res=await fetch(\"/api/events/\".concat(eventId,\"/purchase\"),{method:'POST',headers:{'Content-Type':'application/json'}});const data=await res.json();if(res.ok){// Update UI dynamically to reflect ticket count change\nsetEvents(prevEvents=>prevEvents.map(ev=>ev.id===eventId?_objectSpread(_objectSpread({},ev),{},{tickets:data.remaining}):ev));setMessage(\"Success! Ticket purchased for \".concat(eventName,\". \").concat(data.remaining,\" tickets remaining.\"));}else{setMessage(\"Error: \".concat(data.error));}}catch(error){console.error('Error purchasing ticket:',error);setMessage('An error occurred while processing your purchase.');}};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"main\",{role:\"main\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"page-title\",children:\"Clemson Campus Events\"}),/*#__PURE__*/_jsx(\"div\",{role:\"status\",\"aria-live\":\"polite\",\"aria-atomic\":\"true\",className:\"message-container\",children:message&&/*#__PURE__*/_jsx(\"p\",{className:\"message\",children:message})}),loading?/*#__PURE__*/_jsx(\"div\",{role:\"status\",\"aria-live\":\"polite\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading events...\"})}):/*#__PURE__*/_jsxs(\"section\",{\"aria-labelledby\":\"events-heading\",children:[/*#__PURE__*/_jsx(\"h2\",{id:\"events-heading\",className:\"visually-hidden\",children:\"Available Events List\"}),events.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No events available at this time.\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"events-list\",role:\"list\",children:events.map(event=>/*#__PURE__*/_jsx(\"li\",{className:\"event-item\",role:\"listitem\",children:/*#__PURE__*/_jsxs(\"article\",{\"aria-labelledby\":\"event-name-\".concat(event.id),children:[/*#__PURE__*/_jsx(\"h3\",{id:\"event-name-\".concat(event.id),className:\"event-name\",children:event.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"event-details\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"event-date\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Date:\"}),' ',/*#__PURE__*/_jsx(\"time\",{dateTime:event.date,children:event.date})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"event-tickets\",id:\"tickets-\".concat(event.id),\"aria-label\":\"\".concat(event.tickets,\" tickets available for \").concat(event.name),children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Tickets Available:\"}),' ',/*#__PURE__*/_jsx(\"span\",{className:\"ticket-count\",children:event.tickets})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>buyTicket(event.id,event.name),\"aria-label\":\"Purchase ticket for \".concat(event.name,\". \").concat(event.tickets,\" tickets available.\"),\"aria-describedby\":\"tickets-\".concat(event.id),disabled:event.tickets<=0,className:\"buy-button\",children:event.tickets>0?'Buy Ticket':'Sold Out'})]})},event.id))})]})]})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","App","events","setEvents","message","setMessage","loading","setLoading","fetch","then","res","json","data","catch","err","console","error","buyTicket","eventId","eventName","concat","method","headers","ok","prevEvents","map","ev","id","_objectSpread","tickets","remaining","className","children","role","length","event","name","dateTime","date","onClick","disabled"],"sources":["/home/erchnux/CPSC3720/CPSC3720-TigerTix-TeamTeam/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './App.css';\n\n/**\n * TigerTix Main Application Component\n * Displays campus events with accessible ticket purchasing interface\n */\nfunction App() {\n  const [events, setEvents] = useState([]);\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(true);\n\n  // Fetch events dynamically from the client microservice\n  useEffect(() => {\n    setLoading(true);\n    fetch('http://localhost:6001/api/events')\n      .then((res) => res.json())\n      .then((data) => {\n        setEvents(data);\n        setLoading(false);\n      })\n      .catch((err) => {\n        console.error('Error fetching events:', err);\n        setMessage('Failed to load events. Please try again later.');\n        setLoading(false);\n      });\n  }, []);\n\n  /**\n   * Handle ticket purchase\n   * @param {number} eventId - ID of the event\n   * @param {string} eventName - Name of the event for confirmation message\n   */\n  const buyTicket = async (eventId, eventName) => {\n    try {\n      const res = await fetch(`/api/events/${eventId}/purchase`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n      });\n      const data = await res.json();\n\n      if (res.ok) {\n        // Update UI dynamically to reflect ticket count change\n        setEvents((prevEvents) =>\n          prevEvents.map((ev) =>\n            ev.id === eventId ? { ...ev, tickets: data.remaining } : ev\n          )\n        );\n        setMessage(`Success! Ticket purchased for ${eventName}. ${data.remaining} tickets remaining.`);\n      } else {\n        setMessage(`Error: ${data.error}`);\n      }\n    } catch (error) {\n      console.error('Error purchasing ticket:', error);\n      setMessage('An error occurred while processing your purchase.');\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      {/* Main content area with proper semantic HTML */}\n      <main role=\"main\">\n        <h1 id=\"page-title\">Clemson Campus Events</h1>\n        \n        {/* Screen reader announcement area for dynamic messages */}\n        <div \n          role=\"status\" \n          aria-live=\"polite\" \n          aria-atomic=\"true\"\n          className=\"message-container\"\n        >\n          {message && <p className=\"message\">{message}</p>}\n        </div>\n\n        {/* Loading state with appropriate ARIA */}\n        {loading ? (\n          <div role=\"status\" aria-live=\"polite\">\n            <p>Loading events...</p>\n          </div>\n        ) : (\n          <section aria-labelledby=\"events-heading\">\n            <h2 id=\"events-heading\" className=\"visually-hidden\">Available Events List</h2>\n            \n            {events.length === 0 ? (\n              <p>No events available at this time.</p>\n            ) : (\n              <ul className=\"events-list\" role=\"list\">\n                {events.map((event) => (\n                  <li key={event.id} className=\"event-item\" role=\"listitem\">\n                    <article aria-labelledby={`event-name-${event.id}`}>\n                      <h3 id={`event-name-${event.id}`} className=\"event-name\">\n                        {event.name}\n                      </h3>\n                      \n                      <div className=\"event-details\">\n                        <p className=\"event-date\">\n                          <span className=\"label\">Date:</span>{' '}\n                          <time dateTime={event.date}>{event.date}</time>\n                        </p>\n                        \n                        <p \n                          className=\"event-tickets\"\n                          id={`tickets-${event.id}`}\n                          aria-label={`${event.tickets} tickets available for ${event.name}`}\n                        >\n                          <span className=\"label\">Tickets Available:</span>{' '}\n                          <span className=\"ticket-count\">{event.tickets}</span>\n                        </p>\n                      </div>\n                      \n                      <button \n                        onClick={() => buyTicket(event.id, event.name)}\n                        aria-label={`Purchase ticket for ${event.name}. ${event.tickets} tickets available.`}\n                        aria-describedby={`tickets-${event.id}`}\n                        disabled={event.tickets <= 0}\n                        className=\"buy-button\"\n                      >\n                        {event.tickets > 0 ? 'Buy Ticket' : 'Sold Out'}\n                      </button>\n                    </article>\n                  </li>\n                ))}\n              </ul>\n            )}\n          </section>\n        )}\n      </main>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}